<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Funciones</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css" integrity="sha512-ITH3NSfntO7uI5n+BnxGNXpzDUoOsmAXuG37UDONLxNYIdc0EBBOOQ1xyc+t9ag9ETSuBXFApx+Rod0uURfDYw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reset.min.css" integrity="sha512-Mjxkx+r7O/OLQeKeIBCQ2yspG1P5muhAtv/J+p2/aPnSenciZWm5Wlnt+NOUNA4SHbnBIE/R2ic0ZBiCXdQNUg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/solarized.min.css" integrity="sha512-sUF1FAUpi9yPXCDOPsRwzh71zrCVkcT4SfwxBlQeHwMbH1aTGcSdI00GRLaH6iXRSBTazGH/u6sGQTc1tGqofg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/zenburn.min.css" integrity="sha512-JPxjD2t82edI35nXydY/erE9jVPpqxEJ++6nYEoZEpX2TRsmp2FpZuQqZa+wBCen5U16QZOkMadGXHCfp+tUdg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-separator="---" data-markdown data-line-numbers>
    			<textarea data-template>
						## [Utilizando funciones](#)
						Postgres nos provee funciones predefinidas para resolver diversos cálculos.
						---
						##### Creamos una base de datos de prueba
						```sql
						CREATE TABLE payments(
						  payment_id integer,
						  price integer,
						  payment_type varchar(255),
						  name varchar(255),
						  city varchar(255),
						  us_zip integer,
						  PRIMARY KEY(payment_id)
						);
						```
						```sql
						INSERT INTO payments VALUES
						(1	,500	,'Visa',	'Betina',	'Parkville', 64152),
						(2	,160	,'Mastercard',	'Federica e Andrea', 'Astoria',	97103),
						(3	,3600	,'Visa',	'Gerd W',	'Cahaba Heights',	35243),
						(4	,1200	,'Visa',	'LAURENCE',	'Mickleton',	8056),
						(5	,600	,'Mastercard',	'Fleur',	'Peoria',	61601),
						(6	,1200	,'Mastercard',	'adam',	'Martin',	38237),
						(7	,1900	,'Diners',	'Stacy', 'New York',	10002),
						(8	,110	,'Mastercard',	'Sean',	'Shavano Park',	78230);
						```
						---
						```sql
						-- Obtenemos el promedio de todos los precios de la tabla payments
						SELECT AVG(price) FROM payments;
						```
						```sql
						-- Obtenemos el promedio de todos los pagos con Visa
						SELECT AVG(price) FROM payments WHERE payment_type='Visa';
						```
						---
						```sql
						-- Obtenemos el precio máximo de todos los pagos
						SELECT MAX(price) FROM payments;
						```
						```sql
						-- obtenemos el precio mínimo de todos los pagos
						SELECT MIN(price) FROM payments;
						```
						---
						```sql
						-- obtenemos la suma de todos los precios
						SELECT SUM(price) from payments;
						SELECT SUM(price) FROM payments WHERE us_zip>= 39000;
						```
						```sql
						-- contamos la cantidad de registros de la tabla payments
						SELECT COUNT(*) FROM payments;
						```
						```sql
						-- contamos los registros cuya ciudad empieza por la letra 'M'
						SELECT COUNT(*) FROM payments WHERE city LIKE 'M%';
						```
						---
						## [Ejemplos con COUNT()](#)
						- <a href="https://www.techonthenet.com/sql/count.php">SQL COUNT()</a>
				  </textarea>
				</section>
			</div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.js" integrity="sha512-fEgazVdZLNymIm9n+b2jtCrM4DQiqNTfLNUxbsGSFUJpYemf9A8GxgJ3VAfU/Lc6yZkDdEOdekBDZtG/mf73fQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/notes/notes.min.js" integrity="sha512-nLsCkPS/rdxRVOkxiKnld9KhQ24V/5kRChzSZ3MoFODykbWyBlQRsHLrbpN3J4LabYBnXIp1EnRIo3ifvyiQIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/markdown/markdown.min.js" integrity="sha512-QAU7Ux8iEB53koLKFCtddfFp0D1+uQWoX3ROnRDLeiE98XHOkMciaup0Spc014jQAuJaqz8VjUZdBqriheI4Lg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js" integrity="sha512-U3fPDUX5bMrn1wnYqjaK44MFA9E6MKS+zPAg9WPAGF5XhReBeDj3FGaA831CjueG+YJxYA3WaO/m33kMIoOs/A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
